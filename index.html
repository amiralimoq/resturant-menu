<!DOCTYPE html>
<html lang="fa" dir="rtl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ููู ุฑุณุชูุฑุงู</title>
    <link rel="stylesheet" href="style.css">
    <script src="https://cdn.jsdelivr.net/npm/@supabase/supabase-js@2"></script>
</head>
<body>

    <!-- ููุฏูฺฏ ุงููู (ุจุฑุง ุฌููฺฏุฑ ุงุฒ ูพุฑุด ุตูุญู) -->
    <div id="loading-screen" style="position:fixed; top:0; left:0; width:100%; height:100%; background:white; z-index:2000; display:flex; justify-content:center; align-items:center;">
        <p style="font-family:'Tahoma'; color:#555;">ุฏุฑ ุญุงู ุจุฑุฑุณ ูุถุนุช...</p>
    </div>

    <!-- ุจุฎุด ฑ: ููุฏุงู ุซุจุช ูุงู -->
    <!-- ูฺฉุชู: ฺฉูุงุณ hidden ุงุถุงูู ุดุฏ ุชุง ูพุดโูุฑุถ ูุฎู ุจุงุดุฏ -->
    <div id="register-modal" class="modal hidden">
        <div class="modal-content">
            <h2>ุซุจุช ูุงู ูุดุชุฑ</h2>
            <p>ุจุฑุง ูุฑูุฏ ุจู ูููุ ูุดุฎุตุงุช ุฎูุฏ ุฑุง ูุงุฑุฏ ฺฉูุฏ.</p>
            
            <div class="input-group">
                <label>ูุงู <span class="required">*</span></label>
                <input type="text" id="reg-fname" placeholder="ูุซุงู: ุนู">
            </div>

            <div class="input-group">
                <label>ูุงู ุฎุงููุงุฏฺฏ <span class="required">*</span></label>
                <input type="text" id="reg-lname" placeholder="ูุซุงู: ูุญูุฏ">
            </div>

            <div class="input-group">
                <label>ุดูุงุฑู ุชูุงุณ <span class="required">*</span></label>
                <input type="tel" id="reg-phone" placeholder="0912...">
            </div>

            <button onclick="registerUser()">ุซุจุช ู ุงุฏุงูู</button>
        </div>
    </div>

    <!-- ุจุฎุด ฒ: ููุฏุงู ุดูุงุฑู ูุฒ -->
    <div id="table-modal" class="modal hidden">
        <div class="modal-content">
            <h2>ุดูุงุฑู ูุฒ</h2>
            <p class="welcome-text" id="welcome-msg">ุฎูุด ุขูุฏุฏ</p>
            <p>ูุทูุงู ุดูุงุฑู ูุฒ ุฎูุฏ ุฑุง ูุงุฑุฏ ฺฉูุฏ:</p>
            
            <input type="number" id="table-num" placeholder="ุดูุงุฑู ูุฒ" style="font-size: 20px; text-align: center;">
            
            <button onclick="confirmTable()">ูุฑูุฏ ุจู ููู</button>
            <button onclick="logout()" class="btn-text">ุฎุฑูุฌ ุงุฒ ุญุณุงุจ ฺฉุงุฑุจุฑ</button>
        </div>
    </div>

    <!-- ุจุฎุด ณ: ุตูุญู ุงุตู ููู -->
    <div id="main-container" class="hidden">
        <header>
            <button class="change-table-btn" onclick="changeTable()">๐ ุชุบุฑ ูุฒ</button>
            <h1>ุฑุณุชูุฑุงู ูุง ๐ฝ๏ธ</h1>
            <div id="user-info-display"></div>
        </header>

        <div id="menu-container">
            <!-- ููููุง ุงูุฌุง ุณุงุฎุชู ูโุดููุฏ -->
        </div>
    </div>

    <!-- ุณุจุฏ ุฎุฑุฏ -->
    <div id="cart-bar" class="hidden">
        <div class="cart-info">
            <span>ูุฌููุน: <span id="total-price">0</span> ุชููุงู</span>
        </div>
        <button id="order-btn" onclick="placeOrder()">ุซุจุช ุณูุงุฑุด ููุง</button>
    </div>

    <script src="script.js"></script>
</body>
</html>
